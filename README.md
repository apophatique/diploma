# Диплом

Тема: Система автоматического контроля присутствия студентов на занятиях. 

Общая концепция:
1. Система, используя камеры наблюдения в аудиториях, во время занятия детектирует все лица в аудитории (массив лиц А). 
2. Сервер, зная из какой аудитории идёт видеопоток, узнает из расписания, какие группы находятся в текущей аудитории на данном занятии
3. Сервер запрашивает из базы данных информацию лишь о тех студентах (в том числе их лица), которые обучаются в этих самых группах, т.е. студенты, которые потенциально находятся на данном занятии (массив лиц В)
4. Далее система сопоставляет каждое лицо массива А к каждому лицу массива В *(сложность - O(n^2))*, таким образом определяя всех присутствующих студентов на занятии. 
5. Все собранные данные (присутствующие студенты, видео-и фотофрагменты) записываются в электронный журнал посещаемости университета и хранилище фото-и видеоизображений. 

Пока что реализованы пункты 1-4.

Больше - тут: https://docs.google.com/document/d/1XiYXLKXKrHDYk3An2qt_oZPoI16rCP5xBJP9rzDxYfQ/edit#heading=h.9i6pm23ncttd

# Требования
  1. Python >= 3.8
  2. Все пакеты, указанные в requirenments.txt

# Запуск
В силу того, что система работает с расписанием, группами и студентами, запуск в тестовом режиме возможен только через заглушки и костыли. На данном этапе можно сделать это следующим образом:
1. Поместите в папку input/database/ фотографии лиц, которые вы хотите распознать. При этом рекомендуется оставить лишь лицо, обрезав весь лишний фон.
2. Фотографии должны быть названы в следующем формате:
    имя_фамилия_отчество_пол_группа.png
3. В [schedule_controller] (https://github.com/apophatique/diploma/blob/master/network/schedule/schedule_controller.py) поставьте заглушки на возврат групп в аудитории: удалите строки *19* и *23*
4. Запустите [main.py], указав параметр mode - режим распознавания. Он может быть:
    - image - распознавание лиц по фотографии
    - webcam - живое распознавание через вебкамеру
    - video - 5-ти секундная запись видео через вебкамеру и дальнейшее распознавание на нем



*readme будет дополняться по мере работы*

ОмГТУ, 2021
